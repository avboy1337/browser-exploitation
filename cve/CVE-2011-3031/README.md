<b>VULNERABILITY DETAILS</b>

Running attached all.html file causes chrome to display sad tab.

<b>VERSION</b>
Chrome Version: [15.0.874.120] + [stable]
                [17.0.954.0]+ [Developer Build 111694 Linux]
Operating System: [Ubuntu 10.04]

<b>REPRODUCTION CASE</b>

1. Copy attached all.html and geo.html files to same folder.
2. Open all.html file in chrome.
3. Wait about 2 seconds when page loads and click on test button.
   Chrome will display a sad tab.
   But this does not happen always. So we might need to try several times.

I understand that all.html contains some unnecessary lines. I will post a reduced test case as soon as I figure out which parts are unnecessary. Actually this bug occurred to me randomly, while I was testing something else.

<b>FOR CRASHES, PLEASE INCLUDE THE FOLLOWING ADDITIONAL INFORMATION</b>
Type of crash: [tab]
Crash State: 
exception record-

#0  0x00007fdf7c026c2a in WTF::RefPtr<WTF::StringImpl>::get (
    this=0x363636363636365e)
    at third_party/WebKit/Source/JavaScriptCore/wtf/RefPtr.h:60
60	        T* get() const { return m_ptr; }

stack trace

#0  0x00007fdf7c026c2a in WTF::RefPtr<WTF::StringImpl>::get (
    this=0x363636363636365e)
    at third_party/WebKit/Source/JavaScriptCore/wtf/RefPtr.h:60
#1  0x00007fdf7c0264ac in WTF::String::impl (this=0x363636363636365e)
    at third_party/WebKit/Source/JavaScriptCore/wtf/text/WTFString.h:143
#2  0x00007fdf7c026570 in WTF::AtomicString::impl (this=0x363636363636365e)
    at third_party/WebKit/Source/JavaScriptCore/wtf/text/AtomicString.h:62
#3  0x00007fdf7cf754ca in WebCore::createV8HTMLWrapper (
    element=0x7fdf6b1a2d80, forceNewObject=false)
    at out/Debug/obj/gen/webkit/V8HTMLElementWrapperFactory.cpp:801
#4  0x00007fdf7ca75dd3 in WebCore::toV8 (impl=0x7fdf6b1a2d80, 
    forceNewObject=false)
    at third_party/WebKit/Source/WebCore/bindings/v8/custom/V8HTMLElementCustom.cpp:60
#5  0x00007fdf7ca75cc8 in WebCore::toV8 (impl=0x7fdf6b1a2d80, 
    forceNewObject=false)
    at third_party/WebKit/Source/WebCore/bindings/v8/custom/V8ElementCustom.cpp:61
#6  0x00007fdf7cef524f in getElementByIdCallback (args=...)
    at out/Debug/obj/gen/webcore/bindings/V8Document.cpp:1351
#7  0x00007fdf7bae3bc5 in HandleApiCallHelper<false> (args=..., 
    isolate=0x7fdf79666000) at v8/src/builtins.cc:1177
#8  0x00007fdf7bade6fb in Builtin_Impl_HandleApiCall (args=..., 
    isolate=0x7fdf79666000) at v8/src/builtins.cc:1194
#9  0x00007fdf7bade6cc in Builtin_HandleApiCall (args=..., 
    isolate=0x7fdf79666000) at v8/src/builtins.cc:1193
#10 0x00002c7df3f0420e in ?? ()

registers

rax            0x363636363636365e	3906369333256140382
rbx            0x0	0
rcx            0x7fdf6acee180	140597546377600
rdx            0x0	0
rsi            0x0	0
rdi            0x363636363636365e	3906369333256140382
rbp            0x7fff87f44d30	0x7fff87f44d30
rsp            0x7fff87f44d30	0x7fff87f44d30
r8             0x7fdf6ace2890	140597546330256
r9             0xd74	3444
r10            0x7fdf79666da0	140597791190432
r11            0x7fdf72363a4e	140597670591054
r12            0x7fff87f470e8	140735474331880
r13            0x1	1
r14            0x3	3
r15            0x7fff87f470f0	140735474331888
rip            0x7fdf7c026c2a	0x7fdf7c026c2a <WTF::RefPtr<WTF::StringImpl>::get() const+12>
eflags         0x10202	[ IF RF ]
cs             0x33	51
ss             0x2b	43
ds             0x0	0
es             0x0	0
fs             0x0	0
gs             0x0	0